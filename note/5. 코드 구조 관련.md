#### ì½”ë“œ êµ¬ì¡° ê´€ë ¨

- ES6 module í˜•íƒœë¡œ ì½”ë“œë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.

  ```html
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta http-equiv="X-UA-Compatible" content="ie=edge" />
      <link rel="stylesheet" href="src/style.css" />
      <title>Cat Search</title>
    </head>
    <body>
      <div id="App"></div>
      <script type="module" src="src/main.js"></script>
    </body>
  </html>
  ```

- webpack, parcel ê³¼ ê°™ì€ ë²ˆë“¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ì•„ì£¼ì„¸ìš”.
- í•´ë‹¹ ì½”ë“œ ì‹¤í–‰ì„ ìœ„í•´ì„œëŠ” http-server ëª¨ë“ˆì„(ë¡œì»¬ ì„œë²„ë¥¼ ë„ìš°ëŠ” ë‹¤ë¥¸ ëª¨ë“ˆë„ ì‚¬ìš© ê°€ëŠ¥) í†µí•´ index.htmlì„ ë„ì›Œì•¼ í•©ë‹ˆë‹¤.
- API fetch ì½”ë“œë¥¼ async, await ë¬¸ì„ ì´ìš©í•˜ì—¬ ìˆ˜ì •í•´ì£¼ì„¸ìš”. í•´ë‹¹ ì½”ë“œë“¤ì€ ì—ëŸ¬ê°€ ë‚¬ì„ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ì„œ ì ì ˆíˆ ì²˜ë¦¬ê°€ ë˜ì–´ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
- í•„ìˆ˜ APIì˜ status codeì— ë”°ë¼ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë¶„ë¦¬í•˜ì—¬ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.

  ```javascript
  const API_ENDPOINT =
    "https://q9d70f82kd.execute-api.ap-northeast-2.amazonaws.com/dev";

  const api = {
    fetchCats: async (keyword) => {
      try {
        const res = await fetch(`${API_ENDPOINT}/api/cats/search?q=${keyword}`);
        if (!res.ok) {
          throw new Error(getErrorMsg(res.status));
        }
        const data = await res.json();
        return data;
      } catch (err) {
        console.error("Error fetching cats:", err.message);
        return { data: [], error: err.message };
      }
    },

    fetchCatInfo: async (id) => {
      try {
        const res = await fetch(`${API_ENDPOINT}/api/cats/${id}`);
        if (!res.ok) {
          throw new Error(getErrorMsg(res.status));
        }
        const data = await res.json();
        return data;
      } catch (err) {
        console.error("Error fetching cat info:", err.message);
        return { data: [], error: err.message };
      }
    },

    fetchRandomCats: async () => {
      try {
        const res = await fetch(`${API_ENDPOINT}/api/cats/random50`);
        if (!res.ok) {
          throw new Error(getErrorMsg(res.status));
        }
        const data = await res.json();
        return data;
      } catch (err) {
        console.error("Error fetching random cats:", err.message);
        return { data: [], error: err.message };
      }
    },
  };

  const getErrorMsg = (status) => {
    switch (status) {
      case 400:
        return "ğŸš¨ ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.";
      case 401:
        return "ğŸ”’ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í›„ ì‹œë„í•´ì£¼ì„¸ìš”.";
      case 403:
        return "â›” ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤.";
      case 404:
        return "âŒ ì°¾ì„ ìˆ˜ ì—†ëŠ” ë°ì´í„°ì…ë‹ˆë‹¤.";
      case 500:
        return "ğŸ”¥ ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.";
      case 503:
        return "âš ï¸ í˜„ì¬ ì„œë²„ê°€ ì ê²€ ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.";
      default:
        return `â— ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ (Error Code: ${status})`;
    }
  };

  export default api;
  ```

- SearchResultì— ê° ì•„ì´í…œì„ í´ë¦­í•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ Event Delegation ê¸°ë²•ì„ ì´ìš©í•´ ìˆ˜ì •í•´ì£¼ì„¸ìš”.

  ```javascript
  addEvent() {
      // Event Delegation ê¸°ë²• ì‚¬ìš©í•˜ê¸°
      // 1. ë¶€ëª¨ ìš”ì†Œì— í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
      this.$target.addEventListener("click", (e) => {
      // 2. í´ë¦­í•œ ì§€ì ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ item ì°¾ê¸°
      const $item = e.target.closest(".item");
      if (!$item) return; // item ì—†ìœ¼ë©´ return

      // 3. querySelectorAll ë°˜í™˜ê°’ì€ ìœ ì‚¬ë°°ì—´
      // => Array.from() ì‚¬ìš©í•˜ì—¬ ë°°ì—´ë¡œ ë§Œë“¤ì–´ì¤Œ
      // => ëª¨ë“  item ì¤‘ì— ì„ íƒëœ $item elì˜ index ê°€ì ¸ì˜´
      const index = Array.from(this.$target.querySelectorAll(".item")).indexOf(
          $item
      );
      if (index !== -1) {
          this.onClick(this.data[index]);
      }
      });
  }
  ```

- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ í•¨ìˆ˜ë“¤ì´ë‚˜ Util í•¨ìˆ˜ë“¤ì„ ì‘ê²Œ ì˜ ë‚˜ëˆ„ì–´ì£¼ì„¸ìš”.
